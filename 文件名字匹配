import os
import shutil

# 配置路径
image_folder = r''
json_folder = r''
target_folder = r''

# 创建目标文件夹
os.makedirs(target_folder, exist_ok=True)

# 获取所有图片文件名（不带扩展名）
image_extensions = ('.jpg', '.png', '.gif', '.bmp','.jpeg')  # 支持的图片格式
image_names = set()
for file in os.listdir(image_folder):
    if file.lower().endswith(image_extensions):
        name = os.path.splitext(file)[0]
        image_names.add(name)

# 遍历图片名，查找并复制同名JSON
for name in image_names:
    json_file = None
    for file in os.listdir(json_folder):
        if file.lower() == f"{name}.json":
            json_file = os.path.join(json_folder, file)
            break

    if json_file:
        shutil.copy2(json_file, target_folder)
        print(f"已复制: {os.path.basename(json_file)}")
    else:
        print(f"未找到匹配的JSON文件: {name}.json")

print("操作完成！")
